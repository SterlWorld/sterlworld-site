<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SterlWorld</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap" rel="stylesheet" />
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  html, body {
    height: 100%;
    width: 100%;
    background: black;
    font-family: 'Orbitron', monospace, sans-serif;
    color: white;
    overflow: hidden;
    cursor: crosshair;
  }

  #loading-container {
    width: 440px; /* fixed width matching text + bar */
    user-select: none;
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 20px;
  }

  #loadingText {
    font-weight: 600;
    font-size: 2rem;
    letter-spacing: 0.07em; /* tweak spacing for perfect fit */
    white-space: nowrap;
    width: 100%;
    text-align: center;
    cursor: default;
  }

  #loadingText span {
    display: inline-block;
    transition: color 0.3s ease, text-shadow 0.3s ease;
    color: white;
  }

  #loadingText span.loading {
    color: #0ff; /* sacred blue */
  }

  #loadingText span.glow-gold {
    color: #ffd700;
    text-shadow:
      0 0 8px #ffd700,
      0 0 15px #ffec8b,
      0 0 20px #ffd700,
      0 0 30px #ffec8b,
      0 0 40px #ffd700;
  }

  .loading-bar {
    width: 100%;
    height: 10px;
    background: #222;
    border: 1px solid #444;
    border-radius: 5px;
    overflow: hidden;
    box-shadow: none;
  }

  .loading-bar-fill {
    height: 100%;
    background: linear-gradient(to right, #0ff, #00f2ff);
    width: 0%;
    transition: width 0.2s ease;
  }

  .loading-bar-fill.full {
    background: linear-gradient(to right, #ffd700, #fff68f);
    box-shadow:
      0 0 8px #ffd700,
      0 0 15px #ffec8b,
      0 0 20px #ffd700,
      0 0 30px #ffec8b,
      0 0 40px #ffd700;
    animation: flicker 1.2s infinite alternate;
  }

  @keyframes flicker {
    0%, 100% {
      filter: drop-shadow(0 0 10px #ffd700);
      opacity: 1;
    }
    50% {
      filter: drop-shadow(0 0 20px #fff68f);
      opacity: 0.8;
    }
  }
</style>
</head>
<body>

<div id="loader" style="display:flex; flex-direction: column; align-items:center; justify-content:center; height:100vh; width:100vw; position:fixed; top:0; left:0; background:black; z-index:99999;">
  <div id="loading-container">
    <h2 id="loadingText"></h2>
    <div class="loading-bar">
      <div class="loading-bar-fill" id="barFill"></div>
    </div>
  </div>
</div>

<script>
  const loader = document.getElementById('loader');
  const barFill = document.getElementById('barFill');
  const loadingText = document.getElementById('loadingText');

  // Full phrase including space, each letter as span
  const phrase = 'Loading SterlWorld';
  loadingText.innerHTML = '';

  // Create spans for each letter
  for (const ch of phrase) {
    const span = document.createElement('span');
    span.textContent = ch;
    // "Loading" letters in blue (indices 0-6)
    if (phrase.indexOf(ch) < 7) {
      span.classList.add('loading');
    }
    loadingText.appendChild(span);
  }

  const letters = loadingText.querySelectorAll('span');
  const loadingWidth = document.getElementById('loading-container').offsetWidth;

  function updateGlow() {
    const barWidth = barFill.offsetWidth;
    const progressRatio = barWidth / loadingWidth;
    const totalLetters = letters.length;

    // How many letters total based on progress
    let lettersToGlow = Math.floor(progressRatio * totalLetters);

    // The "Loading " part is first 8 chars (including space), we only glow SterlWorld letters (index >=8)
    letters.forEach((letter, i) => {
      if (i >= 8 && i < lettersToGlow) {
        letter.classList.add('glow-gold');
      } else if (!letter.classList.contains('loading')) {
        letter.classList.remove('glow-gold');
      }
    });
  }

  // Simulate loading progress
  let progress = 0;
  const interval = setInterval(() => {
    progress += Math.random() * 10;
    if (progress >= 100) {
      progress = 100;
      clearInterval(interval);
      barFill.classList.add('full'); // gold glow + flicker
      updateGlow(); // glow all letters at full progress
      setTimeout(() => {
        loader.remove();
        // start other animations or page logic here after loading
      }, 600);
    }
    barFill.style.width = `${progress}%`;
    updateGlow();
  }, 130);

</script>

</body>
</html>